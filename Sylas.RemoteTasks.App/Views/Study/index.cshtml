@{
    ViewData["Title"] = "Snippets";
}

<div>
    <h1>Study</h1>
    <div id="questions"></div>
</div>
@section Scripts{
    <script>
        const questions = [
            { "question": "补证使用原证件", "expectedAnswer": "20-200" },
            { "question": "实习期牵引车", "expectedAnswer": "20-200" },
            { "question": "虚假材料?元以下", "expectedAnswer": "500" },
            { "question": "弄虚作假", "expectedAnswer": "100" },
            { "question": "组织他人弄虚作假几万", "expectedAnswer": "2" },
            { "question": "贿赂舞弊", "expectedAnswer": "2000,1,3", "answerDetail": "贿赂禁1年,禁3年" },
            { "question": "作弊情节严重", "expectedAnswer": "3-7", "answerDetail": "3-7年,并罚金" },
            { "question": "事故致人死亡未逃逸_年以下; 逃逸__年; 逃逸致人死亡_年以上", "expectedAnswer": "3 3-7 7" },
            { "question": "所有权转让后未转让登记", "expectedAnswer": "200" },
            { "question": "逾期不参加审验", "expectedAnswer": "200-500" },
            { "question": "驾驶证与车型不符", "expectedAnswer": "200-1000" },
            { "question": "没有教练", "expectedAnswer": "200-2000" },
            { "question": "伪造机动车号牌,行驶证驾驶证", "expectedAnswer": "2000-5000" },
            { "question": "重大事故无证__,有证__", "expectedAnswer": "10年,终身" },
            { "question": "酒驾(非醉驾)暂扣驾照__个月", "expectedAnswer": "6" },
            { "question": "超速20%-50%", "expectedAnswer": "3,6", "answerDetail": "普3高6" },
            { "question": "普通路普通车超速50%", "expectedAnswer": "6" },
            { "question": "超速50%-100%", "expectedAnswer": "9,6", "answerDetail": "7座以上9分 以下6分" },
            { "question": "无证驾驶", "expectedAnswer": "6" },
            { "question": "不按信号灯", "expectedAnswer": "6" },
            { "question": "高速占道", "expectedAnswer": "6" },
            { "question": "轻伤逃逸不构成犯罪", "expectedAnswer": "6" },
            { "question": "超过总质量50%", "expectedAnswer": "6" },
            { "question": "未悬挂警示标志", "expectedAnswer": "6" },
            { "question": "遮挡车牌", "expectedAnswer": "9" },
            { "question": "高速违法停车", "expectedAnswer": "9" },
            { "question": "未年检", "expectedAnswer": "1,3", "answerDetail": "小车1分; 大车3分" },
            { "question": "高速不按规定车道行驶", "expectedAnswer": "3" },
            { "question": "打电话", "expectedAnswer": "3" },
            { "question": "货车超质量30% 或违反载客", "expectedAnswer": "3" },
            { "question": "普通道路逆行", "expectedAnswer": "3" },
            { "question": "不按规定避让校车", "expectedAnswer": "3" },
            { "question": "不按规定安装车牌", "expectedAnswer": "3" },
            { "question": "不按规定减速避让行人", "expectedAnswer": "3" },
            { "question": "代替牟利_分", "expectedAnswer": "12" },
            { "question": "扣12分考科目_,23分科目_,36分科目__", "expectedAnswer": "1 13 123" },
            { "question": "24-36分考什么", "expectedAnswer": "笔试 道路技能考试" },
            { "question": "满分教育几天", "expectedAnswer": "5,2", "answerDetail": "网络5天, 现场2天" },
            { "question": "满12分学习几天", "expectedAnswer": "7,30", "answerDetail": "小车7天, 大车30天" },

            { "question": "网学半小时考试合格减扣_分,现场1小时减扣_分,公益活动1小时_分", "expectedAnswer": "1,2,1" },
            { "question": "换居住地", "expectedAnswer": "车登记地 人核发地" },
            { "question": "车速城市道路无中心线有中心线分别_,_; 公路_,_", "expectedAnswer": "30 50 40 70" },
            { "question": "能见度-最高车速-车距", "expectedAnswer": "261 145 520" },
            { "question": "多少天内转移登记", "expectedAnswer": "30" },
            { "question": "多少天内审验", "expectedAnswer": "30" },
            { "question": "多少天内补证", "expectedAnswer": "60" },
            { "question": "多少天内换证", "expectedAnswer": "90" },
            { "question": "轻型牵引挂车代码", "expectedAnswer": "C6" },
            { "question": "代罚几倍不超几万", "expectedAnswer": "3,5" },
            { "question": "代审不超过几万", "expectedAnswer": "2" },
        ]
        let randomIndexes = [];
        let random = 0;
        while (questions.length > 0) {
            const randomIndex = random ? randomNext(0, questions.length - 1) : 0;
            const q = questions[randomIndex];
            document.querySelector('#questions').innerHTML += (`<div class="question"><label style="width:180px" for="answer${randomIndex}">${q.question}</label> <input id="answer${randomIndex}" value="" onchange="checkAnswer(this)" ondblclick="dbclicked(this)" /><input hidden value="${q.expectedAnswer}" /><span>&nbsp;&nbsp;</span><span style="display:none;">&nbsp;&nbsp;${q.answerDetail ?? q.expectedAnswer}</span></div>`)
            questions.splice(randomIndex, 1);
        }
        function checkAnswer(input) {
            const value = input.value;
            const expected = input.nextElementSibling.value;
            if (value === expected) {
                input.nextSibling.nextSibling.style = 'background-color: blue;margin-left: 5px;display: inline-block;';
            } else {
                input.nextSibling.nextSibling.style = 'background-color:brown;margin-left: 5px;display: inline-block;';
            }
        }
        function randomNext(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function dbclicked(input) {
            input.parentElement.querySelectorAll('span')[1].style.display = 'inline-block';
        }
    </script>
}